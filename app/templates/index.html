{% extends 'base.html' %}

{% block content %}
<script>
function vibe_state(state) {
	var xhttp = new XMLHttpRequest();
	xhttp.onreadystatechange = function() {
		if (this.readystate == 4 && this.status == 200) {
			location.reload()
		}
	}
	xhttp.open("GET", "/api/vibe/"+state, true)
	xhttp.send()
}
</script>
<h1>Welcome to the piVibe Web App!</h1>
<button type="button" onclick="vibe_state('ON')">On</button>
<button type="button" onclick="vibe_state('OFF')">Off</button>
<br/>
{% for mode in modes %}
<button type="button" onclick="vibe_state('{{mode}}')">{{mode}}</button>
{% endfor %}
{% endblock %}